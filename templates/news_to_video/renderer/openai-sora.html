<div class="card" style="grid-column:1 / -1;background:#0f1522;border:1px solid #233248;">
  <h2>OpenAI Sora — konfiguracja renderu</h2>
  <div class="body" style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px;">

    <fieldset style="border:1px solid #21314a;border-radius:10px;padding:14px;grid-column:1 / -1;">
      <legend>Połączenie i model</legend>
      <label>OpenAI API Key (opcjonalnie, zostaw puste aby użyć OPENAI_API_KEY)
        <input id="sora-api-key" type="text" name="sora_api_key" placeholder="sk-..." />
      </label>
      <div class="row" style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-top:10px;">
        <label>Model
          <select id="sora-model" name="sora_model">
            <option value="sora-2" selected>sora-2 (domyślny)</option>
            <option value="sora-2-pro">sora-2-pro</option>
          </select>
        </label>
        <label>Długość klipu
          <select id="sora-seconds" name="sora_seconds">
            <option value="4">4 s</option>
            <option value="8" selected>8 s</option>
            <option value="12">12 s</option>
          </select>
        </label>
        <!-- Rozdzielczość sterowana automatycznie przez wybór "Format wynikowy" -->
      </div>
    </fieldset>

    <fieldset style="border:1px solid #21314a;border-radius:10px;padding:14px;grid-column:1 / -1;">
      <legend>Prompt i kontekst</legend>
      <label>Prompt (obsługuje placeholdery: {title}, {summary}, {key_points}, {article_url})
        <textarea id="sora-prompt-template" name="sora_prompt_template" rows="6">Create a cinematic Polish-language news explainer video about "{title}".
Use visuals that illustrate: {key_points}.
Ensure the storyline can be understood nawet bez narracji – kadruj najważniejsze fakty.
Source article: {article_url}.</textarea>
      </label>
      <label>Uwagi stylistyczne (kamerowanie, światło, kolorystyka)
        <textarea id="sora-style-notes" name="sora_style_notes" rows="3" placeholder="np. Dynamiczny montage, ujęcia z drona, neonowe barwy nocnego miasta"></textarea>
      </label>
      <label>Dodatkowe instrukcje
        <textarea id="sora-extra-instructions" name="sora_extra_instructions" rows="3" placeholder="np. Dodaj subtelne grafiki z danymi liczbowymi."></textarea>
      </label>
      <label>Czego unikać (opis negatywny)
        <input id="sora-avoid-list" type="text" name="sora_avoid_list" placeholder="np. Unikaj pokazywania tłumu lub przemocy" />
      </label>
    </fieldset>

    <fieldset style="border:1px solid #21314a;border-radius:10px;padding:14px;grid-column:1 / -1;">
      <legend>Referencje graficzne</legend>
      <label>URL grafiki referencyjnej
        <input id="sora-reference-image" type="text" name="sora_reference_image_url" placeholder="https://.../image.jpg" />
      </label>
      <label>Dopasowanie obrazu referencyjnego
        <select id="sora-ref-fit" name="sora_ref_fit">
          <option value="letterbox" selected>Letterbox (bez przycięcia)</option>
          <option value="crop">Crop (przytnij do proporcji)</option>
          <option value="match_image">Dopasuj rozdzielczość do obrazu</option>
        </select>
      </label>
      <label style="display:flex;align-items:center;gap:10px;margin-top:10px;">
        <input id="sora-use-article-cover" type="checkbox" name="sora_use_article_cover" />
        Wykorzystaj pierwszą grafikę z artykułu jeśli brak własnej referencji.
      </label>
      <label style="display:flex;align-items:center;gap:10px;margin-top:10px;">
        <input id="sora-save-thumbnail" type="checkbox" name="sora_save_thumbnail" checked />
        Zapisz także miniaturę (thumbnail) z wygenerowanego klipu.
      </label>
      <div class="muted" style="margin-top:8px;">
        Jeśli podasz własny URL, będzie on użyty w pierwszej kolejności. Zaznaczenie opcji artykułu pozwala szybko
        stworzyć referencję na bazie zdjęcia z newsowego feedu.
      </div>
    </fieldset>

  </div>
</div>
