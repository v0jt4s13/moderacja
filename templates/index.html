{% extends 'base.html' %}
{% set active = 'dashboard' %}
{% block title %}ğŸ›¡ï¸ Panel Moderatora â€” Start{% endblock %}
{% block header_title %}ğŸ“ {{ current_path or 'Dashboard' }}{% endblock %}

{% block content %}
  <div class="stack">

    <!-- Messages -->
    <section class="panel messages" aria-live="polite">
      <div class="msg success">âœ… Sukces: Zaktualizowano 12 ogÅ‚oszeÅ„.</div>
      <div class="msg warn">âš ï¸ OstrzeÅ¼enie: 3 ogÅ‚oszenia oczekujÄ… na weryfikacjÄ™ dodatkowych danych.</div>
      <div class="msg error">âŒ BÅ‚Ä…d: Nie udaÅ‚o siÄ™ pobraÄ‡ szczegÃ³Å‚Ã³w dla ID 4821.</div>
    </section>

    <!-- Filters -->
    <section class="panel filters">
      <form method="get" action="{{ url_for('index') }}">
        <div class="grid">
          <div class="field">
            <label for="q">ğŸ” Wyszukaj</label>
            <input type="text" id="q" name="q" placeholder="fraza, ID, email" value="{{ request.args.get('q','') }}" />
          </div>
          <div class="field">
            <label for="section">ğŸ“ Sekcja</label>
            <select id="section" name="section">
              <option value="">(wszystkie)</option>
              <option value="accommodation">NieruchomoÅ›ci</option>
              <option value="jobs">Praca</option>
              <option value="services">UsÅ‚ugi</option>
              <option value="market">Kup/Sprzedaj</option>
            </select>
          </div>
          <div class="field">
            <label for="from">ğŸ“… Od</label>
            <input type="date" id="from" name="from" />
          </div>
          <div class="field">
            <label for="to">ğŸ“… Do</label>
            <input type="date" id="to" name="to" />
          </div>
        </div>
        <div class="spacer"></div>
        <div class="btn-row">
          <button class="btn primary" type="submit">ğŸ” Filtruj</button>
          <a class="btn" href="{{ url_for('index') }}">ğŸ§¹ WyczyÅ›Ä‡</a>
        </div>
      </form>
    </section>

    <!-- Table -->
    <section class="panel">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <strong>ğŸ“Š Ostatnie zgÅ‚oszenia</strong>
        <span class="muted">ÅÄ…cznie: 42</span>
      </div>
      <div style="overflow:auto;">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>TytuÅ‚</th>
              <th>Sekcja</th>
              <th>Autor</th>
              <th>Status</th>
              <th>Data</th>
              <th>Akcje</th>
            </tr>
          </thead>
          <tbody>
            {% for i in range(1,8) %}
            <tr>
              <td>#{{ 4800 + i }}</td>
              <td>PrzykÅ‚adowe ogÅ‚oszenie {{ i }} âœ¨</td>
              <td>{{ ('Praca','UsÅ‚ugi','NieruchomoÅ›ci')[(i-1) % 3] }}</td>
              <td>user{{ i }}@example.com</td>
              <td>{% if i % 2 == 0 %}âœ… Aktywne{% else %}â³ OczekujÄ…ce{% endif %}</td>
              <td>2025-10-0{{ (i % 9) + 1 }}</td>
              <td>
                <a href="#">ğŸ‘ï¸ PodglÄ…d</a>
                â€¢
                <a href="#">âœï¸ Edytuj</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </section>

    <!-- Form -->
    <section class="panel">
      <form method="post" action="" enctype="application/x-www-form-urlencoded">
        <div class="grid">
          <div class="field">
            <label for="title">ğŸ“ TytuÅ‚</label>
            <input type="text" id="title" name="title" placeholder="Wpisz tytuÅ‚..." required />
          </div>
          <div class="field">
            <label for="category">ğŸ·ï¸ Kategoria</label>
            <select id="category" name="category" required>
              <option value="">â€” wybierz â€”</option>
              <option>Praca</option>
              <option>UsÅ‚ugi</option>
              <option>NieruchomoÅ›ci</option>
              <option>Kup/Sprzedaj</option>
            </select>
          </div>
          <div class="field">
            <label for="active">âœ… Aktywny</label>
            <select id="active" name="active">
              <option value="1">Tak</option>
              <option value="0">Nie</option>
            </select>
          </div>
        </div>
        <div class="spacer"></div>
        <div class="btn-row">
          <button class="btn primary" type="submit">ğŸ’¾ Zapisz</button>
          <button class="btn" type="button" disabled>ğŸš« Nieaktywne</button>
          <button class="btn progress" type="button">Przetwarzanieâ€¦</button>
        </div>
      </form>
    </section>

  </div>
{% endblock %}